# linux 重定向

Standard Input 代码 0
Standard Output 代码 1
Standard Error 代码 2

1. 标准输入，标准输出与标准错误输出 

标准输入:从键盘输入，即从键盘读入数据。

标准输出:把数据输出到终端上。

标准错误输出:把标准错误输出到终端上。

默认的标准输入指的是键盘，默认的标准输出与标准错误输出是屏幕或者是终端。

系统为这三个文件分配了文件标识符fd(file descripter).分别为0,1,2.

在Linux系统下，一切皆是文件，对文件的操作，一般要用到文件标识符。

2. 重定向

重定向分为输入重定向与输出重定向。

"<"表示输入重定向

">"表示输出重定向

所谓的输入重定向即输入不从键盘读入，而是从文件输入或其它。

所谓的输出重定向即不输出到终端上，而是输出到文件中去或其它。


"<<"代表当前标准输入来自命令行的一对分隔号的中间内容。

用">"输出时，如果文件不存在会自动建立一个文件，如果第二次输入时，会覆盖前一次的输入内容，

而">>"输出，表示追加到文件中，不覆盖。当前输出内容会追加到指定文件的尾部。

## Linux下输出重定向的典型分析

liunx中">"代表将数据全部定向输入到一个文件内同时覆盖文件内容。

liunx中“&>" 一般一个搜索命令有标准输出和标准错误输出，也就是”>"和“2>" 这两个的结合体就是 ”&>" 结果就是你输入命令，正确和错误信息都不输出在屏幕上直接输到你重定向的一个文件内。


__command  2>file 1>file 会因抢占file文件的管道二出现乱码/确实/覆盖等现象(即两个输出流操作一个文件的写入),所以要用2>&1 进行重定向到一个输出流才可以全部输出到一个文件__

(1) a.out > outfile 2>&1  或者 a.out >> outfile 2>&1
(2) a.out 2> &1 >outfile

分析:

0 代表标准输入，1代表标准输出，2代表标准错误输出。其中1(即>=1>)可省略，默认为标准输出。所以输出一般省略1，如cat "test" 1>log 2>eorr ，简写成，cat "test" >log 2>eorr。

(1)首先 把a.out重定向到outfile中。然后 2>&1把标准错误输出重定向和1一样的文件中去。相当于把标准输出与标准错误输出都一起重定向到outfile中去。 &1代表的是标准输出的文件描述符。1一般放在左边表示标准输出重定向到什么位置，而1放在右边是重定向到标准输出中，所以用&区分一下，表示标准输出的文件描述符。2＞1表示把标准错误重定向到文件1中去，2＞&1则表示标准错误重定向到标准输出中去。

__(2)首先把标准错误输出重定向到标准输出中，此时标准输出还在终端。因此标准错误也在终端。然后标准输出到outfile中去了。而标准错误还是在终端。__

__因此，(1)表示标准输出与标准错误都到outfile中去了。(2)表示标准输出到outfile，但标准错误输出仍然在终端__




