# 用[[]](双层中括号)替代[]

使用[[]]能避免像异常的文件扩展名之类的问题，而且能带来很多语法上的改进，而且还增加了很多新功能：

```
操作符	功能说明

||	逻辑or(仅双中括号里使用)

&&	逻辑and(仅双中括号里使用)

<	字符串比较(双中括号里不需要转义)

-lt	数字比较

=	字符串相等

==	以Globbing方式进行字符串比较(仅双中括号里使用，参考下文)

=~	用正则表达式进行字符串比较(仅双中括号里使用，参考下文)

-n	非空字符串

-z	空字符串

-eq	数字相等

-ne	数字不等
```

```
单中括号：

[ "${name}" \> "a" -o ${name} \< "m" ]
双中括号 :

[[ "${name}" > "a" && "${name}" < "m"  ]]
```



## 正则表达式/Globbing(通配符)
使用双中括号带来的好处用下面几个例子最能表现：
```
t="abc123"

[[ "$t" == abc* ]]        

# true (globbing比较)

[[ "$t" == "abc*" ]]      

# false (字面比较)

[[ "$t" =~ [abc]+[123]+ ]]

# true (正则表达式比较)

[[ "$t" =~ "abc*" ]]      

# false (字面比较)
```


__注意，从bash 3.2版开始，正则表达式和globbing表达式都不能用引号包裹。如果你的表达式里有空格，你可以把它存储到一个变量里：__

```
r="a b+"

[[ "a bbb" =~ $r ]]        

# true



按Globbing方式的字符串比较也可以用到case语句中：



case $t in

abc*)  <action> ;;

esac
```





